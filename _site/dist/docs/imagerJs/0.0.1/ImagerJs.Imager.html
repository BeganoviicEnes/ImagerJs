<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: Imager</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: Imager</h1>

    




<section>

<header>
    
        <h2>
            <span class="ancestors"><a href="ImagerJs.html">ImagerJs</a>.</span>
        
        Imager
        </h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    

    <h4 class="name" id="Imager"><span class="type-signature"></span>new Imager<span class="signature">($imageElement, options)</span><span class="type-signature"></span></h4>

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>$imageElement</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last"><img> Element to attach to</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Options
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>editModeCss</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">Css object for image edit box.<br>For example, to make background transparent like in photoshop, try this:<br><code><pre>  {   "background": "url(assets/transparent.png)"  }</pre></code><br>Edit box border also could be set here like this:<br><code><pre>  {   "border": "1px dashed green"  }</pre></code></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>detectTouch</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">A custom function that will be used by ImagerJs to determine whether it isrunning on touch device or not.<br><br>This function must return <code>true</code> or <code>false</code>.<br><br><code>true</code> means that touch device is detected and ImagerJs shouldadjust its toolbar size, add touch events etc.<br><br>Note that if this function is not specified, ImagerJs will use its owndetection mechanism.<br><br>To disable any detection simply set this parameter to such function:<code><pre>function() { return false; }</pre></code></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>waitingCursor</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">Cursor that will be used for long-running operations.<br><br>Example:<code><pre>url(path/to/cursor.cur), default</pre></code>Note the word 'default' at the end: that is the name of cursor that willbe used when url is unavailable.More information about css cursor property could be found here:<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/cursor">https://developer.mozilla.org/en-US/docs/Web/CSS/cursor</a></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>imageSizeForPerformanceWarning</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last">Size in bytes.If image is bigger that provided number, an alert will be shownsaying that such big images could cause serious performance issues.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>maxImageWidth</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last">Maximum image width in pixels.If image is width is larger than this value it will be scaled down with .This option allows avoiding bad performance with large images.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>maxImageHeight</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last">Maximum image height in pixels.If image is width is larger than this value it will be scaled down with .This option allows avoiding bad performance with large images.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>canvasSizeLimit</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last">: Maximum canvas size, in pixels.Canvas is scaled down, if it gets more then this value.Default is 32 megapixels for desktop, and 5 megapixels for mobile.Warning: if canvasSizeLimit is set larger, then browser restrictions, big images can fail to load.If image is height is larger than this value it will be scaled down.This option allows avoiding bad performance with large images.</td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ImagerJs.js.html">ImagerJs.js</a>, <a href="ImagerJs.js.html#line95">line 95</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/cursor">https://developer.mozilla.org/en-US/docs/Web/CSS/cursor</a></li>
        </ul>
    </dd>
    

    
</dl>
















    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".getImagerFor"><span class="type-signature">(static) </span>getImagerFor<span class="signature">($img)</span><span class="type-signature"> &rarr; {Imager|undefined}</span></h4>

    



<div class="description">
    Tries to find Imager instance associated with provided img element.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>$img</code></td>
            

            <td class="type">
            
                
<span class="param-type">HTMLImageElement</span>
|

<span class="param-type">jQuery</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ImagerJs.js.html">ImagerJs.js</a>, <a href="ImagerJs.js.html#line1162">line 1162</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Imager</span>
|

<span class="param-type">undefined</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="adjustCanvasSize"><span class="type-signature"></span>adjustCanvasSize<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Takes image's real size (naturalWidth & naturalHeight)and adjust canvas size to match thatbut with respect to aspect ratio of preview viewport size.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ImagerJs.js.html">ImagerJs.js</a>, <a href="ImagerJs.js.html#line1023">line 1023</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="adjustEditContainer"><span class="type-signature"></span>adjustEditContainer<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Positions $editContained with absolute coordinatesto be on top of $imageElement.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ImagerJs.js.html">ImagerJs.js</a>, <a href="ImagerJs.js.html#line1067">line 1067</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="commitChanges"><span class="type-signature"></span>commitChanges<span class="signature">(operationMessage)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Stores current image to history, then renders current canvas into image.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>operationMessage</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ImagerJs.js.html">ImagerJs.js</a>, <a href="ImagerJs.js.html#line684">line 684</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="detectPlatform"><span class="type-signature"></span>detectPlatform<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Crude detection of device and platform.Sets this.platform and this.touchDevice.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ImagerJs.js.html">ImagerJs.js</a>, <a href="ImagerJs.js.html#line1280">line 1280</a>
    </li></ul></dd>
    

    

    

    
    <dt class="tag-todo">To Do:</dt>
    <dd class="tag-todo">
        <ul>
            <li>this is BAD. Use more precise methods or some lib</li>
        </ul>
    </dd>
    
</dl>
















        
            

    

    <h4 class="name" id="fixImageSizeAndRotation"><span class="type-signature"></span>fixImageSizeAndRotation<span class="signature">($image)</span><span class="type-signature"> &rarr; {jQuery.Deferred.&lt;string>}</span></h4>

    



<div class="description">
    Prepares image after first loading. It checks image EXIF data and fixes it's rotation,scales image down if it's too large.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>$image</code></td>
            

            <td class="type">
            
                
<span class="param-type">HTMLImageElement</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ImagerJs.js.html">ImagerJs.js</a>, <a href="ImagerJs.js.html#line361">line 361</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Image data base64 string
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">jQuery.Deferred.&lt;string></span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getDataSize"><span class="type-signature"></span>getDataSize<span class="signature">()</span><span class="type-signature"> &rarr; {number}</span></h4>

    



<div class="description">
    Returns current image data in bytes.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ImagerJs.js.html">ImagerJs.js</a>, <a href="ImagerJs.js.html#line1147">line 1147</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Bytes number
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getImageFormat"><span class="type-signature"></span>getImageFormat<span class="signature">(imageSrc)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Detects image format for either base64 encoded string or http:// url.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>imageSrc</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ImagerJs.js.html">ImagerJs.js</a>, <a href="ImagerJs.js.html#line1199">line 1199</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="getPluginInstance"><span class="type-signature"></span>getPluginInstance<span class="signature">(pluginName)</span><span class="type-signature"> &rarr; {*}</span></h4>

    



<div class="description">
    Returns plugin instance by its name
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>pluginName</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ImagerJs.js.html">ImagerJs.js</a>, <a href="ImagerJs.js.html#line298">line 298</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">*</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="handleImageElementSrcChanged"><span class="type-signature"></span>handleImageElementSrcChanged<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    This function should be called when image's `src` attribute is changed from outside of the imager.It checks `src` attribute, detects image format, prepares image (rotates it according to EXIF for example)and triggers `ready` event on imager.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ImagerJs.js.html">ImagerJs.js</a>, <a href="ImagerJs.js.html#line315">line 315</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="pluginSort"><span class="type-signature"></span>pluginSort<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Sorts plugins based in their `weight`
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ImagerJs.js.html">ImagerJs.js</a>, <a href="ImagerJs.js.html#line250">line 250</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="render"><span class="type-signature"></span>render<span class="signature">(ctx<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Renders image on temporary canvas and then invokes plugin methodsthat shoul modify image.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ctx</code></td>
            

            <td class="type">
            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Context on which to draw image.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ImagerJs.js.html">ImagerJs.js</a>, <a href="ImagerJs.js.html#line788">line 788</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="setPreviewSize"><span class="type-signature"></span>setPreviewSize<span class="signature">(width, height)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Sets preview area dimensions.Note that this affects only the size of image that user sees.Internal image size is not affected.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>width</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>height</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ImagerJs.js.html">ImagerJs.js</a>, <a href="ImagerJs.js.html#line965">line 965</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="setWaiting"><span class="type-signature"></span>setWaiting<span class="signature">(waiting)</span><span class="type-signature"></span></h4>

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>waiting</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last">Waiting status. TRUE for adding 'waiting' text,false to remove.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ImagerJs.js.html">ImagerJs.js</a>, <a href="ImagerJs.js.html#line1182">line 1182</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="setZindex"><span class="type-signature"></span>setZindex<span class="signature">(zIndexValue)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Change the container's z-index property.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>zIndexValue</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="ImagerJs.js.html">ImagerJs.js</a>, <a href="ImagerJs.js.html#line673">line 673</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="ImagerJs.Imager.html">Imager</a></li><li><a href="ImagerJs.plugins.Crop.html">Crop</a></li><li><a href="ImagerJs.plugins.Resize.html">Resize</a></li><li><a href="ImagerJs.plugins.Rotate.html">Rotate</a></li><li><a href="ImagerJs.plugins.Save.html">Save</a></li><li><a href="ImagerJs.plugins.Undo.html">Undo</a></li><li><a href="ImagerJs.progins.Delete.html">Delete</a></li><li><a href="ImagerJs.util.FileSelector.html">FileSelector</a></li><li><a href="RedactorPlugins.ImagerJs.html">ImagerJs</a></li></ul><h3>Namespaces</h3><ul><li><a href="ImagerJs.html">ImagerJs</a></li><li><a href="ImagerJs.plugins.html">plugins</a></li><li><a href="ImagerJs.translations.html">translations</a></li><li><a href="ImagerJs.util.html">util</a></li><li><a href="RedactorPlugins.html">RedactorPlugins</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.2</a> on Tue Aug 30 2016 18:11:43 GMT+0200 (Mitteleuropäische Sommerzeit)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>